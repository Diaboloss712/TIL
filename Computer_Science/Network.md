# 네트워크

## 네트워크의 기본 구조

네트워크는 노드와 간선, 그리고 노드 간 주고받는 메시지로 구성되어있다.


### 호스트

호스트 : 가장자리 노드

정보를 생성 및 송신, 그리고 최종적으로 수신하는 노드

클라이언트 : 서비스를 요청하고 응답을 제공받는 호스트

서버 : 서비스를 제공하는 호스트


### 네트워크 장비

네트워크의 가장자리 노드가 아닌 중간 단계에 존재하는 노드를 중간 노드라고 한다.

이 중간 노드들은 네트워크 장비라 부르며, 송수신되는 정보를 안전하게 전달하는 역할을 한다.


### 메시지

메시지 : 통신 매체로 연결된 노드가 주고받는 정보

LAN : Local Area NetWork

WAN : Wide Area Network

ISP : Internet Service Provider, WAN과 관련한 다양한 서비스를 제공


### 회선 교환 방식

메시지 전송로인 회선을 설정하고 이를 통해 주고받는 방식


### 패킷 교환 방식

패킷 교환 방식은 회선 교환 방식의 문제를 해결한 방식

메시지를 패킷이라는 단위로 쪼개어 전송

패킷 : 패킷 교환 네트워크상에서 송수신되는 메시지의 단위

<br>

패킷은 최적의 경로를 결정하거나 송수신지를 식별하는 중간 노드인 패킷 스위치를 거친다.

패킷 스위치 장비로는 라우터와 스위치가 있다.

<br>

패킷을 통해 전송할 때에 구성은 다음과 같다.

헤더 - 페이로드 - 트레일러

헤더 : 제어 정보 또는 부가 정보

페이로드 : 데이터

트레일러 : 부가 정보


### 주소와 송수신지 유형에 따른 전송 방식

유니캐스트 : 1:1 메시지 전달

브로드캐스트 : 1:N 메시지 전달

브로드캐스트가 전송되는 범위를 브로드캐스트 도메인이라고 한다.


## 프로토콜

프로토콜 : 통신 과정에서 정보를 주고받기 위해 합의된 규칙이나 방법

프로토콜의 3요소 : 구문, 의미, 타이밍

구문 : 데이터의 형식과 구조를 정의

의미 : 데이터의 해석과 동작을 결정

순서 : 데이터가 전송되는 시간적 순서와 흐름을 관리



## OSI 모델

1계층 : 물리 계층

2계층 : 데이터 링크 계층

3계층 : 네트워크 계층

4계층 : 전송 계층

5계층 : 세션 계층

6계층 : 표현 계층

7계층 : 응용 계층

나중에 추가할 예정


### TCP/IP 모델

OSI모델은 이론적으로 기술하고 이해할 때 사용

TCP/IP는 구현에 중점을 둔 '실용적 구현' 모델

IP : Internet Protocol

1. 물리 계층
2. 데이터 링크 계층
3. 네트워크 계층
4. 전송 계층
5. 응용 계층

PDU : Protocol Data Unit

각 계층에서 송수신되는 메시지의 단위로 전달받은 데이터에 헤더나 트레일러를 추가하면 현재 계층의 PDU가 된다.

응용 계층 : data

전송 계층 : segment, datagram

네트워크 계층 : packet

데이터 링크 계층 : frame

물리 계층 : bit


MAC 주소 : 네트워크 인터페이스마다 부여되는 6바이트 길이의 주소

LAN 내의 송수신지를 특정할 수 있다.

데이터 : 최대 1500바이트로, 46바이트 이상이어야한다.

그 이하의 크기라면 패딩이라는 정보를 채워서 46바이트 이상으로 만든다.

FCS : Frame Check Sequence

수신한 이더넷 프레임에 오류가 있는지 확인하는 필드

데이터 링크 계층의 오류 검출 작업

CRC : Cycle Redundancy Check

순환 중복 검사라고 불리는 오류 검출용 값


### 스위치와 허브

허브 : 반이중 모드로 통신 할 수 있지만, 서로 통신하기에 충돌가능

충돌을 막기 위해 CSMA/CD 프로토콜을 사용할 수 있다.

CSMA/CD :
Carrier Sense - 캐리어 감지(사용 여부 검사)
Multiple Access - 다중 접근
Collision Detection - 충돌 검출, 잼 신호를 보낸 후 일정 시간 후에 재전송

스위치 : 각각의 포트와 연결된 호스트의 MAC 주소간 연관 관계를 저장하는 MAC 주소 테이블 사용

플러딩을 통하여 프레임을 모든 포트에 전송한 후 응답한 포트만 기록

필터링 : 이제 프레임을 해당 포트에만 보내면 되는데, 결정하는 기능을 필터링이라 한다.

포워딩 : 실제로 프레임을 내보내는 작업

에이징 : 일정 시간 동안 프레임을 못받으면 삭제하는 작업


## 3. 네트워크 계층