# 객체

## 객체와 인스턴스

객체는 인스턴스를 포함하는 일반적인 의미

객체가 생성되면 생성된 객체의 주소를 참조변수에 저장

인스턴스의 생성 방법

``` Java
Tv t;
t = new Tv();
Tv t = new Tv();
```

클래스 - 데이터와 함수의 결합

## 선언 위치에 따른 변수의 종류

클래스변수 : 클래스 영역 - 클래스가 메모리에 올라갈 때 생성
인스턴스변수 : 클래스 영역 - 인스턴스 생성시 생성
지역변수 : 메서드 영역 - 변수 선언문 수행시 생성

``` Java
class Variables
{
    int iv;             // 인스턴스 변수
    static int cv;      // 클래스 변수(static 변수)

    void method()
    {
        int iv = 0;     // 지역변수 - 메서드 영역
    }
}
```

<b>클래스변수는 모든 인스턴스가 하나의 저장공간을 공유하므로 항상 공통된 값을 갖는다.</b>

``` Java
class Card {
    String kind;
    int number;

    static int width = 100;
    static int height = 250;
}
```


## 메서드

작업을 수행하기 위한 명령문의 집합

하나의 메서드는 한 가지 기능만 수행하도록 작성

관련된 여러 문장을 메서드로 작성


### Return문

메서드가 정상적으로 종료되는 경우
    - 메서드의 블럭{}의 끝에 도달했을 때
    - 메서드의 블럭{}을 수행 도중 return문을 만났을 때
  

### JVM 메모리 구조 - 호출스택
특징
    - 메서드가 호출되면 수행에 필요한 메모리를 스택에 할당받는다.
    - 메서드가 수행을 마치면 사용했던 메모리를 반환한다.
    - 호출스택의 제일 위에 있는 메서드가 현재 실행중인 메서드다.
    - 아래에 있는 메서드가 바로 위의 메서드를 호출한 메서드다.


### 메서드 오버로딩

하나의 클래스에 같은 이름의 메서드를 여러 개 정의하는 것

오버로딩의 조건
    - 메서드의 이름이 같아야 한다.
    - 매개변수의 개수 또는 타입이 달라야 한다.
    - 매개변수는 같고 리턴타입이 다른 경우는 오버로딩이 성립되지 않음


## 생성자

- 인스턴스가 생성될 때마다 호출되는 인스턴스 초기화 메서드
- 인스턴스 변수의 초기화 또는 인스턴스 생성시 수행할 작업에 사용
- 몇가지 조건을 제외하고는 메서드와 같다.
- 모든 클래스에는 반드시 하나 이상의 생성자가 있어야 한다.


### 기본 생성자

클래스에 생성자가 하나도 없으면 컴파일러가 기본 생성자를 추가한다.


### 참조변수 this
인스턴스 자신을 가리키는 참조변수.


## 상속

- 기존의 클래스를 재사용해서 새로운 클래스를 작성하는 것
- 두 클래스를 조상과 자손으로 관계를 맺어주는 것
- 자손은 조상의 모든 멤버를 상속받는다.
- 자손의 멤버개수는 조상보다 적을 수 없다.


### 오버라이딩

조상 클래스로부터 상속받은 메서드의 내용을 상속받는 클래스에 맞게 변경하는 것

- 선언부가 같아야 한다.
- 접근제어자를 좁은 범위로 변경할 수 없다.
- 조상클래스의 메서드보다 많은 수의 예외를 선언할 수 없다.


### 오버로딩 vs 오버라이딩

오버로딩 : 기존에 없던 새로운 메서드를 정의
오버라이딩 : 상속받은 메서드의 내용을 변경


### super

this와 같은 역할
조상의 멤버와 자신의 멤버를 구별하는데 사용


### super()

- 자손클래스의 인스턴스를 생성하면, 자손의 멤버와 조상의 멤버가 합쳐진 하나의 인스턴스가 생성된다.
- 조상의 멤버들도 초기화되어야 하기 때문에 자손의 생성자의 첫 문장에서 조상의 생성자를 호출해야 한다.


## 제어자

- 클래스, 변수, 메서드의 선언부에 사용되어 부가적인 의미를 부여한다.
- 제어자는 크게 접근 제어자와 그 외의 제어자로 나뉜다.
- 하나의 대상에 여러 개의 제어자를 조합해서 사용할 수 있으나, 접근제어자는 단 하나만 사용할 수 있다.


### static

멤버변수
    - 모든 인스턴스에 공통적으로 사용되는 클래스변수가 된다.
    - 클래스변수는 인스턴스를 생성하지 않고도 사용 가능하다.
    - 클래스가 메모리에 로드될 때 생성된다.
  
메서드
    - 인스턴스를 생성하지 않고도 호출이 가능한 static 메서드가 된다.
    - static메서드 내에서는 인스턴스멤버들을 직접 사용할 수 없다.


### final
    - 클래스 : 변경될 수 없는 클래스, 확장될 수 없는 클래스가 된다. 따라서 조상이 될 수 없다.
    - 메서드 : 변경될 수 없는 메서드, 오버라이딩도 불가능하다.
    - 멤버변수, 지역변수 : 값을 변경할 수 없는 상수로 사용된다.


### abstract
    - 클래스 : 클래스 내에 추상메서드가 선언되어 있음을 나타낸다.
    - 메서드 : 선언부만 작성하고 구현부는 작성하지 않은 추상메서드임을 알린다.


## 다형성

하나의 참조변수로 여러 타입의 객체를 참조할 수 있는 것
즉, 조상타입의 참조변수로 자손타입의 객체를 다룰 수 있는 것이 다형성


### 참조변수의 형변환
- 서로 상속관계에 있는 타입간의 형변환만 가능하다.
- 자손 타입에서 조상타입으로 형변환하는 경우, 형변환 생략가능


### 매개변수의 다형성
- 참조형 매개변수는 메서드 호출시, 자신과 같은 타입 또는 자손타입의 인스턴스를 넘겨줄 수 있다.

``` Java
class Product {
    int price;
    int bonusPoint;
}

class Tv extends Product {}
class Computer extends Product {}

class Buyer {
    int money = 1000;
    int bonusPoint = 0;
}

Buyer b = new Buyer();

Tv tv = new Tv();
Computer com = new Computer();

b.buy(tv);
b.buy(com);

void buy(Tv t) {
    money -= t.price;
    bonusPoint += t.bonusPoint;
}

void buy(Product p) {
    money -= p.price;
    bonusPoint += p.bonusPoint;
}
```

